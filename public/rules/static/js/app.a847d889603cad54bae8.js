webpackJsonp([1],{102:function(t,e,n){"use strict";function i(t,e){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function o(t){new r.a({layout:"center",timeout:3e3,text:t}).show()}var a=n(396),r=n.n(a);e.a={download_text:i,show_noty:o}},156:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(153),o=n(411),a=n.n(o),r=n(389),c=(n.n(r),n(405)),l=n.n(c),s=n(162);n(70);i.a.use(a.a),i.a.config.productionTip=!1,window.vm=new i.a({el:"#app",router:s.a,template:"<App/>",components:{App:l.a}})},160:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(102),o=n(70);e.default={data:function(){return{token:"",mch:{name:"",wx_id:"",aly_id:""},clipped:!1,drawer:!0,fixed:!1,items:[{icon:"bubble_chart",title:"商户列表"}],miniVariant:!1,right:!0,rightDrawer:!1,title:"智慧旅游支付平台"}},methods:{clear:function(){this.mch={name:"",wx_id:"",aly_id:""},this.token=""},is_filled:function(){return this.mch.name&&this.mch.wx_id&&this.mch.aly_id},download_token:function(){this.token?(i.a.download_text(this.mch.name+".txt",this.token),i.a.show_noty("已下载商户token")):i.a.show_noty("token 为空")},gen_token:function(){var t=this;this.is_filled()?o.a.emit("req_token",this.mch,function(e){t.token=e}):i.a.show_noty("请填写商户信息")},add_mch:function(){this.is_filled()?(o.a.emit("add_mch",this.mch),this.clear()):i.a.show_noty("请填写商户信息")}}}},161:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(397),o=(n.n(i),n(70)),a=n(102);e.default={name:"HomePage",data:function(){return{mchs:[{name:"蔡伦竹海",wx_id:"123423414124",aly_id:"9989887776767"}],info:"",wi:{openid:"",nickname:"",sex:"",language:"",city:"",province:"",country:"",headimgurl:""}}},computed:{mp_nickname:function(){return wi.nickname}},created:function(){var t=this;this.$root.$on("mch_changed",function(e){t.get_mchs()})},methods:{get_mchs:function(){var t=this;o.a.emit("get_mchs","",function(e){t.mchs=e})},del_mch:function(t){o.a.emit("del_mch",t)},mod_mch:function(t){o.a.emit("mod_mch",t)},download_token:function(t){delete t._id,o.a.emit("req_token",t,function(e){a.a.download_text(t.name+".txt",e)})}},mounted:function(){this.get_mchs()}}},162:function(t,e,n){"use strict";var i=n(153),o=n(409),a=n(406),r=n.n(a);i.a.use(o.a),e.a=new o.a({routes:[{path:"/",name:"Home",component:r.a}]})},389:function(t,e){},390:function(t,e){},391:function(t,e){},405:function(t,e,n){function i(t){n(391)}var o=n(152)(n(160),n(408),i,null,null);t.exports=o.exports},406:function(t,e,n){function i(t){n(390)}var o=n(152)(n(161),n(407),i,"data-v-06aec8f7",null);t.exports=o.exports},407:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-slide-y-transition",{attrs:{mode:"out-in"}},[n("v-layout",{attrs:{column:"","align-center":""}},[n("v-container",{staticStyle:{"min-height":"0"},attrs:{fluid:"","grid-list-lg":""}},[n("v-layout",{attrs:{row:"",wrap:""}},t._l(t.mchs,function(e){return n("v-flex",{attrs:{xs6:""}},[n("v-card",{staticClass:"white--text",attrs:{color:"cyan darken-2"}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs6:""}},[n("v-text-field",{attrs:{label:"商户名称"},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"m.name"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs6:""}},[n("v-text-field",{attrs:{label:"微信ID"},model:{value:e.wx_id,callback:function(n){t.$set(e,"wx_id",n)},expression:"m.wx_id"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs6:""}},[n("v-text-field",{attrs:{label:"支付宝ID"},model:{value:e.aly_id,callback:function(n){t.$set(e,"aly_id",n)},expression:"m.aly_id"}})],1)],1),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{flat:"",dark:""},on:{click:function(n){n.preventDefault(),t.download_token(e)}}},[t._v("下载token")]),t._v(" "),n("v-btn",{attrs:{color:"error"},on:{click:function(n){n.preventDefault(),t.del_mch(e)}}},[t._v("删除")]),t._v(" "),n("v-btn",{attrs:{color:"info"},on:{click:function(n){n.preventDefault(),t.mod_mch(e)}}},[t._v("修改")])],1)],1)],1)}))],1)],1)],1)],1)},staticRenderFns:[]}},408:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{light:""}},[n("v-navigation-drawer",{attrs:{fixed:"","mini-variant":t.miniVariant,clipped:t.clipped,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",t._l(t.items,function(e,i){return n("v-list-tile",{key:i,attrs:{value:"true",exact:""}},[n("v-list-tile-action",[n("v-icon",{attrs:{light:""},domProps:{innerHTML:t._s(e.icon)}})],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{textContent:t._s(e.title)}})],1)],1)}))],1),t._v(" "),n("v-toolbar",{attrs:{fixed:"",app:"","clipped-left":t.clipped}},[n("v-toolbar-side-icon",{attrs:{light:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),n("v-btn",{attrs:{icon:"",light:""},on:{click:function(e){e.stopPropagation(),t.miniVariant=!t.miniVariant}}},[n("v-icon",{domProps:{innerHTML:t._s(t.miniVariant?"chevron_right":"chevron_left")}})],1),t._v(" "),n("v-btn",{attrs:{icon:"",light:""},on:{click:function(e){e.stopPropagation(),t.clipped=!t.clipped}}},[n("v-icon",[t._v("web")])],1),t._v(" "),n("v-btn",{attrs:{icon:"",light:""},on:{click:function(e){e.stopPropagation(),t.fixed=!t.fixed}}},[n("v-icon",[t._v("remove")])],1),t._v(" "),n("v-toolbar-title",{domProps:{textContent:t._s(t.title)}}),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{icon:"",light:""},on:{click:function(e){e.stopPropagation(),t.rightDrawer=!t.rightDrawer}}},[n("v-icon",[t._v("add")])],1)],1),t._v(" "),n("v-content",[n("router-view")],1),t._v(" "),n("v-navigation-drawer",{attrs:{temporary:"",right:t.right,fixed:""},model:{value:t.rightDrawer,callback:function(e){t.rightDrawer=e},expression:"rightDrawer"}},[n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs10:""}},[n("v-text-field",{attrs:{label:"商户名称"},model:{value:t.mch.name,callback:function(e){t.$set(t.mch,"name",e)},expression:"mch.name"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs10:""}},[n("v-text-field",{attrs:{label:"微信ID"},model:{value:t.mch.wx_id,callback:function(e){t.$set(t.mch,"wx_id",e)},expression:"mch.wx_id"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs10:""}},[n("v-text-field",{attrs:{label:"支付宝ID"},model:{value:t.mch.aly_id,callback:function(e){t.$set(t.mch,"aly_id",e)},expression:"mch.aly_id"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs10:""}},[n("v-text-field",{attrs:{label:"token","multi-line":""},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}})],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-btn",{attrs:{color:"success"},on:{click:function(e){e.preventDefault(),t.gen_token(e)}}},[t._v("生成token")]),t._v(" "),n("v-btn",{attrs:{color:"info"},on:{click:function(e){e.preventDefault(),t.add_mch(e)}}},[t._v("添加商户")])],1)],1)],1),t._v(" "),n("v-footer",{attrs:{fixed:t.fixed,app:""}},[n("span",[t._v("© freego 2018")])])],1)},staticRenderFns:[]}},412:function(t,e){},413:function(t,e,n){n(157),t.exports=n(156)},70:function(t,e,n){"use strict";var i=n(165),o=n.n(i),a=n(166),r=n.n(a),c=n(399),l=n.n(c),s=n(394),u=(n.n(s),function(){function t(){o()(this,t),this.sock=l()(),this.sock.on("connect",this.on_connect.bind(this)),this.sock.on("mch_changed",this.on_mch_changed.bind(this)),this.sock.on("player_offline",this.on_player_offline.bind(this))}return r()(t,[{key:"register_ui_evt",value:function(){var t=this;vm.$on("notify_seller_status",function(e){t.emit("notify_seller_status",e)})}},{key:"on_connect",value:function(){this.register_ui_evt(),console.log("on_connect to socket.io server")}},{key:"get_orders",value:function(t,e){this.emit("get_orders",t,function(t){e(t)})}},{key:"emit",value:function(t,e,n){this.sock&&this.sock.emit(t,e,n)}},{key:"on_mch_changed",value:function(t){window.vm.$emit("mch_changed",t)}},{key:"on_player_offline",value:function(t){game.remove_player(t.openid),window.vm.$emit("count_changed",game.players.length)}}]),t}());e.a=new u}},[413]);
//# sourceMappingURL=app.a847d889603cad54bae8.js.map